# WhiteIPSearch——IP白名单检测工具

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

一款轻量级IP白名单检查工具，支持多种IP格式解析与批量检查，适用于网络安全审计和访问控制场景。

## 🌟 功能特点

- 支持多种IP格式解析（单个IP、IP范围、CIDR网段）
- 提供单个IP即时查询与批量文件检测两种模式
- 内置白名单管理系统（添加、删除、保存、刷新）
- 自动生成带时间戳的检查结果文件
- 纯Python实现，无需额外依赖

## 📋 环境要求

- Python 3.6 及以上版本
- 操作系统：Windows/macOS/Linux

## 🚀 快速开始

### 安装步骤

1. 克隆仓库到本地
   ```bash
   git clone https://github.com/tzyyyyyyy/WhiteIPSearch.git
   cd WhiteIPSearch
   ```

2. 直接运行主程序
   ```bash
   # Windows系统
   python white_ip_search.py
   
   # macOS/Linux系统
   python3 white_ip_search.py
   ```

## 📖 使用指南

### 主界面说明

程序启动后将显示以下主菜单：
```
 ___       __   ___  ___  ___  _________  _______   ___  ________   
|\  \     |\  \|\  \|\  \|\  \|\___   ___|\  ___ \ |\  \|\   __  \  
\ \  \    \ \  \ \  \\\  \ \  \|___ \  \_\ \   __/|\ \  \ \  \|\  \ 
 \ \  \  __\ \  \ \   __  \ \  \   \ \  \ \ \  \_|/_\ \  \ \   ____\
  \ \  \|\__\_\  \ \  \ \  \ \  \   \ \  \ \ \  \_|\ \ \  \ \  \___|
   \ \____________\ \__\ \__\ \__\   \ \__\ \ \_______\ \__\ \__\   
    \|____________|\|__|\|__|\|__|    \|__|  \|_______|\|__|\|__|   
                                                 
                     https://github.com/tzyyyyyyy/WhiteIPSearch  By:tzyyy  

请选择操作模式：
1. 单个IP检查
2. 批量文件检查
3. 白名单管理
q. 退出程序
```

### 1. 单个IP检查

1. 选择主菜单中的 `1` 进入检查模式
2. 输入需要查询的IP地址（如 `192.168.1.1`）
3. 程序将显示该IP是否在白名单范围内
4. 输入 `b` 返回主菜单

### 2. 批量文件检查

1. 选择主菜单中的 `2` 进入批量检查模式
2. 输入包含IP列表的文件路径（每行一个IP）
3. 检查结果将自动保存至：
   ```
   输入文件所在目录/output/[原文件名]_non_whitelisted_[时间戳].txt
   ```

### 3. 白名单管理

选择主菜单中的 `3` 进入管理界面，支持以下操作：

- `1. 查看白名单`：显示所有已添加的IP/网段
- `2. 添加IP/网段`：支持多种格式（见下方说明）
- `3. 删除IP/网段`：移除指定条目
- `4. 保存白名单`：将当前配置保存到文件
- `5. 刷新白名单`：从文件重新加载配置
- `b. 返回主菜单`：回到主界面

## 🔢 支持的IP格式

| 格式类型 | 示例 | 说明 |
|---------|------|------|
| 单个IP | `192.168.1.1` | 标准IPv4地址 |
| 完整范围 | `192.168.1.1-192.168.1.10` | 支持`-`和`～`两种分隔符 |
| 简写范围 | `192.168.1.1-10` | 等价于192.168.1.1至192.168.1.10 |
| CIDR网段 | `192.168.1.0/24` | 包含该网段内所有IP |

## 📂 文件结构

```
WhiteIPSearch/
├── white_ip_search.py  # 主程序文件
├── whitelist.txt       # 白名单数据文件（自动创建）
└── output/             # 批量检查结果输出目录（自动创建）
```

## ⚠️ 注意事项

- 首次使用时白名单为空，需先通过管理功能添加条目
- 所有修改需通过"保存白名单"功能才能持久化
- 批量检查时，输入文件需确保每行一个IP地址，空行会被忽略

## 📄 许可证

本项目采用MIT许可证 - 详见 [LICENSE](LICENSE) 文件

## 📞 联系作者

- 作者：tzyyy
- 项目地址：[https://github.com/tzyyyyyyy/WhiteIPSearch](https://github.com/tzyyyyyyy/WhiteIPSearch)

欢迎提交Issue和Pull Request，共同完善工具功能！
